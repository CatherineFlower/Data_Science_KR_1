# Domain DDoS Monitoring ‚Äî Data Science KR 1

> –ù–∞—Å—Ç–æ–ª—å–Ω–æ–µ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å GUI –¥–ª—è **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ–º–µ–Ω–æ–≤** –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ **–ø–æ–¥—Å—á—ë—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ DDoS-–∞—Ç–∞–∫ –ø–æ –¥–æ–º–µ–Ω—É**.  
> –°—Ç–µ–∫: **Python 3.12+, PyQt5, PostgreSQL 13+, psycopg2**, –ò–ò-–¥–µ—Ç–µ–∫—Ç–æ—Ä –Ω–∞ **IsolationForest**.

---

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã

**–í—Ö–æ–¥**  
![Login](README_with_images/docs/img/login_screen.jpg)

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**  
![Register](README_with_images/docs/img/register_screen.jpg)

**–°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**  
![Domains](README_with_images/docs/img/domains_list_screen_2.jpg)

**–ü—É—Å—Ç–æ–µ —Ä–∞–±–æ—á–µ–µ –æ–∫–Ω–æ**  
![Main](README_with_images/docs/img/main_empty_screen.jpg)

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞**  
![Add Domain](README_with_images/docs/img/add_domain_dialog.jpg)

**–ú–µ–Ω—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**  
![Admin menu](README_with_images/docs/img/admin_menu.jpg)

**SELECT –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**  
![Select constructor](README_with_images/docs/img/select_constructor.jpg)

**–°—Ç—Ä–æ–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**  
![String functions](README_with_images/docs/img/string_functions.jpg)

**–ú–∞—Å—Ç–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**  
![Join Master](README_with_images/docs/img/join_master.jpg)

**ALTER TABLE –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**  
![ALTER TABLE constructor](README_with_images/docs/img/alter_table_constructor.jpg)

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –¥–∞–Ω–Ω—ã–µ

**ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ (—Å—Ö–µ–º–∞ `app`)**  
![ERD](README_with_images/docs/img/erd_schema_2.jpg)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`app_user`)**  
![Users](README_with_images/docs/img/users_table.jpg)

**–î–æ–º–µ–Ω—ã –ø–æ–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (`tracked_domain`)**  
![Tracked domains](README_with_images/docs/img/tracked_domains_table.jpg)

**–ü–æ—Ç–æ–∫ –º–µ—Ç—Ä–∏–∫, 10-—Å–µ–∫—É–Ω–¥–Ω—ã–µ —Å—Ä–µ–∑—ã (`metric_sample`)**  
![Metric sample](README_with_images/docs/img/metric_sample_table.jpg)

**–ñ—É—Ä–Ω–∞–ª —Å–º–µ–Ω —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ–º–µ–Ω–∞ (`domain_state_log`)**  
![State log](README_with_images/docs/img/domain_state_log_table.jpg)

**–¢–∞–±–ª–∏—Ü–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ (`protected_column`)**  
![Protected column](README_with_images/docs/img/protected_column.jpg)

> –¢–∏–ø—ã: —Ç–µ–∫—Å—Ç–æ–≤—ã–µ/—á–∏—Å–ª–æ–≤—ã–µ/–±—É–ª–µ–≤—ã, `timestamp`, ENUM (—Å–æ—Å—Ç–æ—è–Ω–∏—è), –º–∞—Å—Å–∏–≤—ã (`inet[]`), `JSONB`.  
> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: `NOT NULL`, `UNIQUE`, `CHECK`, `PRIMARY/FOREIGN KEY` + `ON DELETE/ON UPDATE`.

---

## üß† –õ–æ–≥–∏–∫–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ (—á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –∞–∫–∫–∞—É–Ω—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç **–¥–æ–º–µ–Ω** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.  
2. –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å-–¥–µ—Ç–µ–∫—Ç–æ—Ä –∫–∞–∂–¥—ã–µ **10 —Å–µ–∫—É–Ω–¥** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç/—Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏:  
   `packets_per_s`, `uniq_ips`, `bytes_per_s`, `ok` (+ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `src_ips inet[]`, `extra jsonb`).  
3. –ú–æ–¥–µ–ª—å **IsolationForest**, –æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ ¬´–Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö¬ª –º–µ—Ç—Ä–∏–∫–∞—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **score**. –ï—Å–ª–∏ `score < threshold` ‚Äî —Å—Ä–µ–∑ **–∞–Ω–æ–º–∞–ª—å–Ω—ã–π**.  
4. –î–æ–º–µ–Ω –∏–º–µ–µ—Ç –¥–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è: `active` –∏ `ddos`.  
   - –ø—Ä–∏ –∞–Ω–æ–º–∞–ª—å–Ω–æ–º —Å—Ä–µ–∑–µ –∏–∑ `active` ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ `ddos`,  
   - –ø—Ä–∏ –Ω–µ–∞–Ω–æ–º–∞–ª—å–Ω–æ–º —Å—Ä–µ–∑–µ –∏–∑ `ddos` ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –≤ `active`.  
5. **–ê—Ç–∞–∫–æ–π** —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π —ç–ø–∏–∑–æ–¥ `active ‚Üí ddos ‚Üí active`. –í –º–æ–º–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ `active` —Å—á—ë—Ç—á–∏–∫ –∞—Ç–∞–∫ **—Ç–µ–∫—É—â–µ–≥–æ —á–∞—Å–∞** —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1.  
6. –ú–µ—Ç—Ä–∏–∫–∏, –∂—É—Ä–Ω–∞–ª —Å–º–µ–Ω —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø–æ—á–∞—Å–æ–≤—ã–µ —Å—á—ë—Ç—á–∏–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ë–î; –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è ¬´—Ç–æ–ø —Å–±–æ–µ–≤¬ª.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ GUI

### –û—Å–Ω–æ–≤–Ω—ã–µ (–ö–†-1)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥, ¬´–ú–æ–∏ –¥–æ–º–µ–Ω—ã¬ª, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞.
- –ü–æ—Ç–æ–∫ –º–µ—Ç—Ä–∏–∫ (–∫–∞–∂–¥—ã–µ 10 —Å–µ–∫) –∏ –∞–≤—Ç–æ-–ø–æ–¥—Å—á—ë—Ç –∞—Ç–∞–∫.
- –ñ—É—Ä–Ω–∞–ª —Å–º–µ–Ω —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ ¬´—Ç–æ–ø —Å–±–æ–µ–≤¬ª.
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å ROLLBACK –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.
- –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (Windows/macOS/Linux).

### –ù–æ–≤–æ–µ –¥–ª—è –ö–†-2 (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π SQL –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞)

#### 1) –û–∫–Ω–æ –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ –ø–æ–¥–∑–∞–ø—Ä–æ—Å–∞—Ö**
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —É—Å–ª–æ–≤–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∏ –∫–æ—Ä—Ä–µ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤.  
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã **`ANY` / `ALL` / `EXISTS`** –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤.  
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–¥–∑–∞–ø—Ä–æ—Å –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–Ω–∞—á–µ–Ω–∏–π –∏–ª–∏ –∫–∞–∫ —É—Å–ª–æ–≤–∏–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è; –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞–º–∏.

#### 2) –ú–æ–¥—É–ª—å **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ **ENUM** –∏ **—Å–æ—Å—Ç–∞–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏** (composite).  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ GUI.  
- –ü—Ä–æ—Å–º–æ—Ç—Ä/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤ ‚Äî –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ SQL.

#### 3) –ü–æ–∏—Å–∫ –ø–æ —Å—Ç—Ä–æ–∫–∞–º ‚Äî **SIMILAR TO / NOT SIMILAR TO**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ `LIKE/ILIKE` –∏ POSIX-—Ä–µ–≥—ç–∫—Å–ø–∞–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å **`SIMILAR TO`** –∏ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ–º **`NOT SIMILAR TO`**.  
- –í—ã–±–æ—Ä —Å—Ç–æ–ª–±—Ü–∞ –∏ —à–∞–±–ª–æ–Ω–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

#### 4) –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã **–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏** –≤ –æ–∫–Ω–µ SELECT
- –í—ã–±–æ—Ä –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (**COUNT, SUM, AVG, MIN, MAX**).  
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ **GROUP BY** –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–æ–ª—è–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø —á–µ—Ä–µ–∑ **HAVING**.  
- –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞, –¥–æ—Å—Ç—É–ø–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç.

#### 5) –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä **CASE**
- –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –≤–∏–¥–∞  
  `CASE WHEN ‚Ä¶ THEN ‚Ä¶ [WHEN ‚Ä¶ THEN ‚Ä¶] ELSE ‚Ä¶ END`.  
- –£—Å–ª–æ–≤–∏—è –∏ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–¥–∞—é—Ç—Å—è –≤ –ø–æ–ª—è—Ö, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ç–æ–∫.

#### 6) –†–∞–±–æ—Ç–∞ —Å **NULL**: `COALESCE` –∏ `NULLIF`
- –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–µ—Ñ–æ–ª—Ç–æ–≤ –≤–º–µ—Å—Ç–æ `NULL` (COALESCE) –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ `NULL` (NULLIF).  
- –í—Å—ë –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ–∫–±–æ–∫—Å–∞–º–∏ –∏ –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞.

---

## üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –∏ –ø–∞–Ω–µ–ª—å)
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –ë–î –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ ¬´–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å¬ª (–¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∞):

- **–°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É**  
- **–£–¥–∞–ª–∏—Ç—å —Å—Ö–µ–º—É**  
- **ALTER TABLE** (—Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: —Å—Ç–æ–ª–±—Ü—ã, —Ç–∏–ø—ã, PK/FK/UNIQUE/CHECK, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)  
- **SELECT** (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã, –∞–≥—Ä–µ–≥–∞—Ç—ã/–≥—Ä—É–ø–ø—ã/HAVING)  
- **Search** (LIKE/ILIKE, POSIX-—Ä–µ–≥—ç–∫—Å–ø—ã, **SIMILAR TO**)  
- **–°—Ç—Ä–æ–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** (UPPER/LOWER, SUBSTRING, TRIM, LPAD/RPAD, CONCAT, LEFT/RIGHT)  
- **–ú–∞—Å—Ç–µ—Ä —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π** (JOIN: INNER/LEFT/RIGHT/FULL, –≤—ã–±–æ—Ä –∫–ª—é—á–µ–π –∏ –ø–æ–ª–µ–π)  
- **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é** (–≤–æ–∑–≤—Ä–∞—Ç –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º)

> –í –∞–¥–º–∏–Ω-—Ä–µ–∂–∏–º–µ –≤—Å–µ DDL/DML –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ SQL –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

> –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–∞–ø–∫–∞ **`src`**. –ó–∞–ø—É—Å–∫ ‚Äî **–¥–≤—É–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏**.

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install PyQt5 psycopg2-binary python-dotenv scikit-learn numpy
